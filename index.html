<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Verification</title>
    <script>
        // Initialize the list with example entries as the page loads
        const exampleList = ["example1@example.com", "example2@example.com", "example3@example.com"];

        async function processEmail(email) {
            // Check if the email is in the example list
            const result = exampleList.includes(email);

            // Send the result back to the C# application
            await fetch("http://localhost:8080/", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ result: result })
            });
        }

        // Get the email parameter from the URL and process it
        const urlParams = new URLSearchParams(window.location.search);
        const email = urlParams.get('email');
        if (email) {
            processEmail(email);
        } else {
            console.error("No email parameter provided in the URL");
        }
    </script>
</head>
<body>
</body>
</html>
